<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Team Awards Voting</title>
<style>
  body { font-family: Arial, sans-serif; max-width: 900px; margin: auto; padding: 20px; background: #f4f4f4; }
  h1, h2 { text-align: center; }
  .award { background: #fff; padding: 20px; margin-bottom: 20px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  label { display: block; margin-top: 10px; }
  input, select, textarea { width: 100%; padding: 10px; margin-top: 5px; border-radius: 5px; border: 1px solid #ccc; }
  button { display: block; margin: 20px auto; padding: 10px 20px; font-size: 16px; border-radius: 5px; background: #007bff; color: #fff; border: none; cursor: pointer; }
  button:hover { background: #0056b3; }
  #results { display: none; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 10px; text-align: left; }
  .winner { background-color: #d4edda; font-weight: bold; }
</style>
</head>
<body>

<h1>Team Awards Voting</h1>
<p>Please vote for your colleagues for the following awards. Enter your name, select one person per award, and provide a reason for your choice. Your votes will be visible only to the admin.</p>

<div class="award">
  <label for="voterName">Your Name:</label>
  <input type="text" id="voterName" placeholder="Enter your name" required>
</div>

<div class="award">
  <h2>Best All-Round Team Player</h2>
  <p>This award recognizes the person who consistently goes above and beyond to support the team. They deliver high-quality work, show strong collaboration skills, and can always be counted on to help others succeed. This individual embodies teamwork, reliability, and excellence across all aspects of their role.</p>
  <label for="allround">Select one:</label>
  <select id="allround">
    <option value="">--Choose a person--</option>
    <option value="Lynette">Lynette</option>
    <option value="Keiko">Keiko</option>
    <option value="Edgar">Edgar</option>
    <option value="Remano">Remano</option>
    <option value="Antin">Antin</option>
    <option value="Llano">Llano</option>
  </select>
  <label for="allroundReason">Reason for your choice:</label>
  <textarea id="allroundReason" rows="3" placeholder="Write your reason here..." required></textarea>
</div>

<div class="award">
  <h2>Best Team Spirit</h2>
  <p>This award celebrates the person who brings energy, positivity, and encouragement to the team. They boost morale, create a supportive environment, and lift others up â€” even during challenging times. Their attitude makes the workplace a better space for everyone.</p>
  <label for="teamSpirit">Select one:</label>
  <select id="teamSpirit">
    <option value="">--Choose a person--</option>
    <option value="Lynette">Lynette</option>
    <option value="Keiko">Keiko</option>
    <option value="Edgar">Edgar</option>
    <option value="Remano">Remano</option>
    <option value="Antin">Antin</option>
    <option value="Llano">Llano</option>
  </select>
  <label for="teamSpiritReason">Reason for your choice:</label>
  <textarea id="teamSpiritReason" rows="3" placeholder="Write your reason here..." required></textarea>
</div>

<button onclick="submitVote()">Submit Vote</button>

<hr>

<h2>Admin Results</h2>
<p>Enter password to view results:</p>
<input type="password" id="adminPass" placeholder="Password">
<button onclick="viewResults()">View Results</button>

<div id="results">
  <h3>Vote Results</h3>
  <table id="resultsTable">
    <thead>
      <tr>
        <th>Voter</th>
        <th>Award</th>
        <th>Employee</th>
        <th>Reason</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
  
  <h3>Winners</h3>
  <table id="winnerTable">
    <thead>
      <tr>
        <th>Award</th>
        <th>Winner</th>
        <th>Votes</th>
      </tr>
    </thead>
    <tbody>
    </tbody>
  </table>
</div>

<script>
let votes = JSON.parse(localStorage.getItem('votes')) || [];

function submitVote() {
  const voterName = document.getElementById('voterName').value.trim();
  const allround = document.getElementById('allround').value;
  const allroundReason = document.getElementById('allroundReason').value.trim();
  const teamSpirit = document.getElementById('teamSpirit').value;
  const teamSpiritReason = document.getElementById('teamSpiritReason').value.trim();

  if (!voterName || !allround || !allroundReason || !teamSpirit || !teamSpiritReason) {
    alert('Please enter your name and provide selections and reasons for both awards.');
    return;
  }

  votes.push(
    { voter: voterName, award: 'Best All-Round Team Player', employee: allround, reason: allroundReason },
    { voter: voterName, award: 'Best Team Spirit', employee: teamSpirit, reason: teamSpiritReason }
  );

  localStorage.setItem('votes', JSON.stringify(votes));

  alert('Thank you for voting! Your submission has been recorded.');
  
  // Reset form
  document.getElementById('voterName').value = '';
  document.getElementById('allround').value = '';
  document.getElementById('allroundReason').value = '';
  document.getElementById('teamSpirit').value = '';
  document.getElementById('teamSpiritReason').value = '';
}

function viewResults() {
  const pass = document.getElementById('adminPass').value;
  if (pass !== '1Qwerty@23') {
    alert('Incorrect password!');
    return;
  }

  const tbody = document.getElementById('resultsTable').getElementsByTagName('tbody')[0];
  tbody.innerHTML = '';
  votes.forEach(v => {
    const row = tbody.insertRow();
    row.insertCell(0).innerText = v.voter;
    row.insertCell(1).innerText = v.award;
    row.insertCell(2).innerText = v.employee;
    row.insertCell(3).innerText = v.reason;
  });

  // Count votes for winners
  const awardCounts = {};
  votes.forEach(v => {
    if (!awardCounts[v.award]) awardCounts[v.award] = {};
    awardCounts[v.award][v.employee] = (awardCounts[v.award][v.employee] || 0) + 1;
  });

  const winnerTbody = document.getElementById('winnerTable').getElementsByTagName('tbody')[0];
  winnerTbody.innerHTML = '';
  for (const award in awardCounts) {
    let maxVotes = 0;
    let winner = '';
    for (const emp in awardCounts[award]) {
      if (awardCounts[award][emp] > maxVotes) {
        maxVotes = awardCounts[award][emp];
        winner = emp;
      }
    }
    const row = winnerTbody.insertRow();
    row.className = "winner";
    row.insertCell(0).innerText = award;
    row.insertCell(1).innerText = winner;
    row.insertCell(2).innerText = maxVotes;
  }

  document.getElementById('results').style.display = 'block';
}
</script>

</body>
</html>
